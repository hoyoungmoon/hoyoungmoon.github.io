---
title: "네트워크 기본 개념 정리"
date: 2021-03-28 22:31:28 -0400
categories: network
---
# 네트워크 기본 개념 정리
- 네트워크
- 네트워크 계층구조
- HTTP / HTTPS
- TCP/IP
- DNS
- 웹 통신 과정

- - -
## 네트워크 (Network)
네트워크란, 2대 이상의 데이터를 송수신할 수 있는 장치가 연결되어 데이터 통신을 할 수 있는 상태이다.
우리가 일상에서 보는 일반적인 데이터를 컴퓨터로 주고 받기 위해서는 다양한 과정이 필요하다. 
따라서 데이터 송신을 위한 표준화된 절차, 프로토콜(protocol)을 만들고 데이터를 변환하는 절차마다 프로토콜들을 가진다.
이러한 표준화된 절차를 네트워크 계층구조라 하고 대표적으로 OSI7, TCP/IP가 있다.

 

## 네트워크 계층구조
네트워크상에서 데이터 송신을 위해서는 표준화된 절차가 필요했다. 또한 여러개로 분업화된 데이터 처리로 특정 문제가 발생했을 때 어느 과정에서 문제가 발생했는지와
일부 문제로 전체가 멈추지 않기 위해 계층구조를 구성하였다.

### OSI7

### TCP/IP
HTTP 통신을 하기 위한 네트워크 계층구조이다. 크게 패킷 통신의 인터넷 프로토콜(IP)과 전송 조절 프로토콜(TCP)로 이루어져 있으며 OSI7과 비슷하지만 더 간소화된 4단계 구조로 이루어져있다.
IP는 패킷 전달 여부 보증하지 않고 패킷 보내고 받는 순서가 다를 수 있다. TCP는 IP위에서 동작하는 프로토콜이며 데이터 전달 신뢰성을 보장하고 순서대로 받게 해준다.

## HTTP
### HTTP 버전
#### HTTP/1.1
표준화되기 이전의 버전인 HTTP/0.9에서는 단순히 GET만 하여 HTML 파일을 전송하는 형태였다. HTTP/1.0에 되어서 http header 개념이 도입되었다.
이에 따라 Content-Type이 header에 추가되면서 더 다양한 문서 형태 전송이 가능해졌고 상태코드로 브러우저가 요청에 대한 성공 여부를 알 수 있게 되었다.

HTTP/1.1부터 첫번째 표준버전의 HTTP가 나왔다. 대표적인 특징으로는

- **keep-alive**

HTTP는 TCP 기반으로 이루어져있다.TCP는 신뢰성 확보를 위해 연결을 하고, 끊을 때 handshake가 이루어진다. 반면에 HTTP는 비연결성 프로토콜이므로
한번의 요청과 응답이 이루어지고 나면 연결을 끊게 된다. 이와 같이 연결을 맺고, 끊을 때 마다 handshake로 인한 오버헤드가 발생하기 쉽다.
그래서 keep-alive 기능이 HTTP/1.1에서부터 추가되고 한번 맺은 연결을 지속하여 불필요한 handshake를 줄여 성능 개선을 할 수 있게 된다.

- **pipelining**

하나의 커넥션에 여러 요청을 연속적으로 보낼 수 있도록 하여 응답에 대한 지연속도를 줄이는 방법이다. 즉, 첫번째 요청에 대한 응답이 전송되기 전에
두번째 요청 전송이 가능하게 되는 방식이다. 하지만 두번째 요청이 아무리 짧아도 첫번째 요청에 대한 응답을 기다려야하게 된다. 이 문제는 HOL(Head Of Line) Blocking이라고 
파이프라인의 큰 문제이다. 이를 해결하기 위해 브라우저에서 파이프라인을 사용하지 않고 6-8개 정도의 connection을 병렬로 배치하여 요청을 가져오는 방식으로 개선하였다.

<img src="https://user-images.githubusercontent.com/53747019/112817856-dca5bc80-90bd-11eb-9104-8ab47363f2a8.png" width="60%">

#### HTTP/2
HTTP/2의 주요 목표는 전체 요청을 통해 지연시간 줄이고, 응답 다중화를 지원하며, 헤더 필드를 효율적으로 압축하여 오버헤드를 최소하하는 것이다. 이밖에 요청 우선순위 지정, 서버 푸시 등을 지원도 추가하였다.
기존의 핵심 개념(HTTP method, URI, header field)은 그대로 유지한채 데이터 서식 지정 방식과 전송 방식을 수정하였다.

- **바이너리 프레이밍 계층 (Binary Framing)**

기존의 HTTP/1.x 프로토콜과 달리, 줄바꿈으로 구분하는 방식에서 더 작은 메시지와 프레임으로 분할하여 바이너리 형식으로 인코딩하였다.

>**스트림** : 구성된 단일 TCP 연결 내에서 전달되는 바이트의 양방향 흐름, 하나 이상의 메시지 전달 가능

>**메시지** : 논리적 요청 또는 응답 메시지에 매핑되는 프레임의 전체 시퀀스

>**프레임** : HTTP/2 통신의 최소 단위, 하나의 프레임 헤더를 포함하고 최소한의 프레임이 속하는 스트림을 식별한다.

HTTP/1.1에서는 HOL blocking을 피하기 위해 여러개의 TCP연결을 통해 해결하였다. HTTP/2에선 프레이밍 계층을 이용하여 HTTP 요청, 응답을 세분화하여 하나의 TCP 연결에서도
병렬 스트림들을 통해 여러 요청들을 다중화할 수 있게 되었다.

추가적인 특징 참고 : https://developers.google.com/web/fundamentals/performance/http2/

### HTTP GET, POST의 차이
### HTTP의 문제점



## HTTPS



## TCP
### 3-way Handshake

